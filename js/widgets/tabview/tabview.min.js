!function(t,e,r){"use strict";function i(t){var i=this;if(!t)throw new Error("请传入配置项");var s=t.container;1!==s.nodeType&&(s=e.querySelector(s)),i.extend(t,a),i.dom=s,i.bodyEle=s.querySelector("[data-role=body]"),i.headEle=s.querySelector("[data-role=head]"),i.headChildEle=i.headEle.querySelectorAll("[data-target]"),i.bodyChildEle=i.bodyEle.querySelectorAll("[data-id]"),i.pageWidth=r.screen.width,i.activeCls&&i.addActive(i.activeCls,i.activeIndex),i.isSwipe&&i.screenMove(t.itemClick),i.initListeners(s,i.triggerEvent,t.itemClick)}var a={isSwipe:!1,triggerEvent:"tap",activeCls:"",activeIndex:0};i.prototype.addActive=function(t,e){var r=this.dom,i=r.querySelectorAll("[data-target]");this.addClass(i[e],t),this.transfrom(this.bodyEle,-(e*this.pageWidth))},i.prototype.initListeners=function(t,e,r){var i=(this.dom,this),a=this.headEle,s=this.bodyEle,o=this.bodyChildEle,n=this.pageWidth,d=i.activeCls;a.addEventListener(e,function(t){var e=t.target,a=e.dataset.target,l=s.querySelector('[data-id="'+a+'"]'),c=i.index(l,o);if(d){var h=i.siblings(e);i.addClass(e,d),i.removeClass(h,d)}i.transfrom(s,-(c*n)),r.call(t.target,t)})},i.prototype.addClass=function(t,e){Array.isArray(t)?t.forEach(function(t){t.classList.add(e)}):t.classList.add(e)},i.prototype.removeClass=function(t,e){Array.isArray(t)?t.forEach(function(t){t.classList.remove(e)}):t.classList.remove(e)},i.prototype.contains=function(t,e){return t.classList.contains(e)},i.prototype.setProperty=function(t,e){var r=e.property,i=e.value;Array.isArray(t)?t.forEach(function(t){t.style[r]=i}):t.style[r]=i},i.prototype.siblings=function(t){var e,r=[];try{e=t.parentNode.children}catch(i){return}for(var a=0,s=e.length;a<s;a++)t!=e[a]&&r.push(e[a]);return r},i.prototype.screenMove=function(t){this.currentPostion=this.currentPostion||0;var e,r,i=this,a=this.dom,s=this.pageWidth,o=this.bodyEle,n=-s*(o.children.length-1),d=0,l=0,c=0,h="left",u=!1;a.addEventListener("touchstart",function(t){var a=t.touches[0];e=a.pageX,r=a.pageY,l=i.currentPostion,o.style.webkitTransition="",c=+new Date,u=!1}),a.addEventListener("touchmove",function(t){var a=t.touches[0],s=a.pageX,c=a.pageY,v=s-e,f=c-r;if(Math.abs(v)>Math.abs(f)){t.preventDefault(),d=v;var p=l+v;p<=0&&p>=n&&(i.transfrom(o,p),u=!0),h=v>0?"right":"left"}}),a.addEventListener("touchend",function(e){var r=0,a=i.currentPostion,l=+new Date-c;if(u){o.style.webkitTransition=".6s ease transform",l<300?(r="left"==h?a-(s+d):a+s-d,r=r>0?0:r,r=r<n?n:r):Math.abs(d)/s<.5?r=a-d:(r="left"==h?a-(s+d):a+s-d,r=r>0?0:r,r=r<n?n:r),i.transfrom(o,r);var v=Math.abs(i.currentPostion)/Math.abs(s);i.switchHead(v),t.call(i.headChildEle[v],e)}})},i.prototype.switchHead=function(t){var e=this.headChildEle,r=this,i=e[t],a=r.siblings(i);r.addClass(i,r.activeCls),r.removeClass(a,r.activeCls)},i.prototype.transfrom=function(t,e){t.style.webkitTransform="translate3d("+e+"px,0,0)",this.currentPostion=e},i.prototype.index=function(t,e){for(var r=0,i=e.length;r<i;r++)if(t==e[r])return r},i.prototype.extend=function(t,e){for(var r in e)void 0===t[r]?this[r]=e[r]:this[r]=t[r]},r.TabView=i}({},document,window);